<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join App – Add Task</title>
    <link rel="stylesheet" href="./css/root.css" />
    <link rel="stylesheet" href="./css/main.css" />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/board.css" />
    <link rel="stylesheet" href="./css/contact.css" />
    <link rel="stylesheet" href="./css/add_task.css" />
    <link rel="stylesheet" href="./css/modal.css" />
  </head>
  <body>
    <div class="layout">
      <nav aria-label="Primäre Navigation" class="app-sidebar">
        <img class="nav-logo" src="./assets/icons/logo.svg" alt="Join Logo" />
        <div class="nav-menu" role="list">
          <a href="./summary.html" class="nav-link link-1" data-nav>
            <div class="link-icon">
              <img src="./assets/icons/summary_icon.svg" alt="Summary Icon" />
            </div>
            <div class="link-name"><p>Summary</p></div>
          </a>
          <a href="./board.html" class="nav-link link-2" data-nav>
            <div class="link-icon">
              <img src="./assets/icons/board_icon.svg" alt="Board Icon" />
            </div>
            <div class="link-name"><p>Board</p></div>
          </a>
          <a
            href="./add-task.html"
            class="nav-link link-3"
            data-nav
            aria-current="page"
          >
            <div class="link-icon">
              <img src="./assets/icons/add_task_icon.svg" alt="Add Task Icon" />
            </div>
            <div class="link-name"><p>Add Task</p></div>
          </a>
          <a href="./contacts.html" class="nav-link link-4" data-nav>
            <div class="link-icon">
              <img src="./assets/icons/contacts_icon.svg" alt="Contacts Icon" />
            </div>
            <div class="link-name"><p>Contacts</p></div>
          </a>
        </div>
        <div class="privacy-and-legal">
          <a href="./privacy.html"><p>Privacy Policy</p></a>
          <a href="./legal.html"><p>Legal Notice</p></a>
        </div>
      </nav>
      <header>
        <h2 class="header-slogan">Kanban Project Management Tool</h2>
        <img class="header-logo" src="./assets/images/header_logo.svg" alt="Join Logo" />
        <div class="header-icons">
          <div class="help-icon">
            <a href="#help" aria-label="Hilfe öffnen">
              <img src="./assets/images/help_icon.svg" alt="Help" />
            </a>
          </div>
          <div
            class="profile-icon"
            id="profileIcon"
            aria-haspopup="true"
            aria-expanded="false"
            tabindex="0"
          >
            <div class="profile-name guest-font-size" id="profileInitials">
              GU
            </div>
          </div>
        </div>
      </header>
      <div class="sub-menu-bg d-none" id="profileMenuBackdrop"></div>
      <div class="sub-menu sub-menu-close" id="profileMenu" aria-hidden="true">
        <a href="#profile"><div>Profil</div></a>
        <a href="#settings"><div>Einstellungen</div></a>
        <a href="#logout" id="logoutLink"><div>Logout</div></a>
      </div>
      <main
        id="pageContent"
        class="main__container add-task-main"
        tabindex="-1"
      >
        <section class="container" aria-labelledby="addTaskTitle">
          <h1 class="page-title" id="addTaskTitle">Add Task</h1>
          <div class="form-wrapper">
            <div class="left-section">
              <div class="form-group">
                <label for="taskTitle"
                  >Title<sup class="required" aria-hidden="true">*</sup></label
                >
                <input type="text" id="taskTitle" placeholder="Enter a title" />
              </div>
              <div class="form-group">
                <label for="taskDescription">Description</label>
                <textarea
                  id="taskDescription"
                  placeholder="Enter a Description"
                ></textarea>
              </div>
              <div class="form-group">
                <label for="taskDueDate"
                  >Due date<sup class="required" aria-hidden="true"
                    >*</sup
                  ></label
                >
                <input type="date" id="taskDueDate" placeholder="dd/mm/yyyy" />
              </div>
            </div>
            <div class="divider" aria-hidden="true"></div>
            <div class="right-section">
              <div class="form-group">
                <label>Priority</label>
                <div
                  class="priority-buttons"
                  role="group"
                  aria-label="Priority selection"
                >
                  <button
                    class="priority-btn"
                    data-priority="urgent"
                    type="button"
                  >
                    Urgent
                    <img
                      class="prio-icon"
                      src="./assets/icons/prio-urgent.svg"
                      alt="Urgent priority"
                    />
                  </button>
                  <button
                    class="priority-btn"
                    data-priority="medium"
                    type="button"
                  >
                    Medium
                    <img
                      class="prio-icon"
                      src="./assets/icons/prio-medium.svg"
                      alt="Medium priority"
                    />
                  </button>
                  <button
                    class="priority-btn"
                    data-priority="low"
                    type="button"
                  >
                    Low
                    <img
                      class="prio-icon"
                      src="./assets/icons/prio-low.svg"
                      alt="Low priority"
                    />
                  </button>
                </div>
              </div>
              <div class="form-group">
                <label for="taskAssignees">Assigned to</label>
                <div class="custom-multiselect">
                  <div class="multiselect-header" id="assigneeHeader">
                    <span id="selected-assignees-placeholder"
                      >Select contacts to assign</span
                    >
                    <img
                      src="./assets/icons/arrow_drop_down.svg"
                      class="dropdown-icon"
                      alt="dropdown"
                    />
                  </div>
                  <div
                    class="multiselect-dropdown d-none"
                    id="assignee-dropdown"
                  >
                    <div class="assignee-search-container">
                      <input
                        type="text"
                        id="assignee-search"
                        class="assignee-search-input"
                        placeholder="Search contacts..."
                        autocomplete="off"
                      />
                    </div>
                    <div id="assignee-list" class="assignee-list">
                      <!-- Dynamically filled -->
                    </div>
                  </div>
                </div>
                <div
                  class="selected-assignee-avatars"
                  id="selected-assignee-avatars"
                ></div>
              </div>
              <div class="form-group">
                <label>Category <span class="required-marker">*</span></label>
                <div class="custom-category-select">
                  <div
                    class="category-select-header"
                    onclick="toggleCategoryDropdown()"
                  >
                    <span id="selected-category-placeholder"
                      >Select category</span
                    >
                    <img
                      src="./assets/icons/arrow_drop_down.svg"
                      class="dropdown-icon"
                    />
                  </div>
                  <div class="category-dropdown d-none" id="category-dropdown">
                    <div
                      class="category-option"
                      onclick="selectCategory('technical-task')"
                    >
                      Technical Task
                    </div>
                    <div
                      class="category-option"
                      onclick="selectCategory('user-story')"
                    >
                      User Story
                    </div>
                  </div>
                </div>
                <input type="hidden" id="category" name="category" required />
                <div class="field-error-message" id="error-category"></div>
              </div>
              <div class="form-group">
                <label for="taskSubtasks">Subtasks</label>
                <div class="subtask-input-container">
                  <input
                    type="text"
                    id="taskSubtasks"
                    class="form-input subtask-input"
                    placeholder="Add new subtask"
                  />
                  <div class="subtask-btn">
                    <div class="check-cancel-div" id="subtaskIcons">
                      <div class="subtask-cancel" id="subtaskClose">
                        <!-- Close icon wird hier eingefügt -->
                      </div>
                      <div class="subtask-divider"></div>
                      <div class="subtask-check" id="subtaskCheck">
                        <!-- Check icon wird hier eingefügt -->
                      </div>
                    </div>
                    <img
                      src="./assets/icons/add.svg"
                      alt="Add subtask"
                      id="subtaskAddIcon"
                    />
                  </div>
                </div>
                <div class="subtasks-list" id="subtasksList">
                  <!-- Subtasks werden hier dynamisch hinzugefügt -->
                </div>
              </div>
            </div>
          </div>
          <div class="button-group">
            <label class="required-text">
              <sup class="required" aria-hidden="true">*</sup> This field is
              required
            </label>
            <div class="buttons">
              <button class="btn-clear" type="button" id="taskClearBtn">
                Clear <img src="./assets/icons/close-button.svg" alt="">
              </button>
              <button class="btn-create" type="button" id="taskCreateBtn">
                Create Task <img src="./assets/icons/check-white.svg" alt="">
              </button>
            </div>
          </div>
          <p class="login-status" id="taskStatus" aria-live="polite"></p>
        </section>
      </main>
    </div>
    <script type="module" src="./js/pages/add-task.js"></script>
  </body>
</html>
